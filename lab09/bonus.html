<!DOCTYPE html>
<html>
<head>
<title>Bonus - Employee Data</title>
<script>
var open = false;

function toggleData() {
  if (open == false) {
    loadXML();
    document.getElementById("btn").innerHTML = "Close Employee Data";
    open = true;
  } else {
    document.getElementById("show").innerHTML = "";
    document.getElementById("btn").innerHTML = "Get Employee Data";
    open = false;
  }
}

function loadXML() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      var xml = this.responseXML;
      var table = "<table border='1'><tr><th>ID</th><th>Name</th><th>Position</th><th>Department</th><th>Room</th></tr>";
      var emp = xml.getElementsByTagName("employee");
      for (var i = 0; i < emp.length; i++) {
        var id = emp[i].getAttribute("id");
        var name = emp[i].getElementsByTagName("fullname")[0].childNodes[0].nodeValue;
        var pos = emp[i].getElementsByTagName("position")[0].childNodes[0].nodeValue;
        var dep = emp[i].getElementsByTagName("department")[0].childNodes[0].nodeValue;
        var room = emp[i].getElementsByTagName("room")[0].childNodes[0].nodeValue;
        table += "<tr><td>"+id+"</td><td>"+name+"</td><td>"+pos+"</td><td>"+dep+"</td><td>"+room+"</td></tr>";
      }
      table += "</table>";
      document.getElementById("show").innerHTML = table;
    }
  };
  xhttp.open("GET", "employee.xml", true);
  xhttp.send();
}
</script>
</head>

<body>
<center>
<button id="btn" onclick="toggleData()">Get Employee Data</button>
<div id="show"></div>
</center>
</body>
</html>
